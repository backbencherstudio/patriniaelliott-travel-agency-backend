<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>New Contact Message</title>
  <meta name="color-scheme" content="light dark">
  <meta name="supported-color-schemes" content="light dark">
  <style>
    /* Fallback for some clients */
    body { margin:0; padding:0; background:#0b1220; }
    .bg { background:#0b1220; }
    .card { background:#121a2b; }
    @media (prefers-color-scheme: light) {
      body, .bg { background:#f3f6fc !important; }
      .card { background:#ffffff !important; }
      .muted { color:#51607a !important; }
      .text { color:#0f172a !important; }
    }
  </style>
</head>
<body class="bg" style="margin:0;padding:0;background:#0b1220;">
  <!-- Preheader text (hidden in most clients but boosts deliverability) -->
  <div style="display:none;font-size:1px;color:#0b1220;line-height:1px;max-height:0;max-width:0;opacity:0;overflow:hidden;">
    New contact message from <%= full_name ? full_name : 'a visitor' %>.
  </div>

  <table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="background:#0b1220;padding:24px 16px;">
    <tr>
      <td align="center">
        <table role="presentation" width="600" cellpadding="0" cellspacing="0" class="card"
               style="width:600px;max-width:100%;background:#121a2b;border-radius:18px;border:1px solid rgba(255,255,255,.08)">
          <tr>
            <td style="padding:28px 28px 12px 28px;">
              <h1 class="text" style="margin:0 0 6px 0;font-family:Arial,Helvetica,sans-serif;font-size:22px;line-height:1.3;color:#eaf0ff;">
                New Contact Us Message
              </h1>
              <p class="muted" style="margin:0 0 16px 0;font-family:Arial,Helvetica,sans-serif;font-size:14px;color:#a8b3cf;">
                Someone just reached out via your website.
              </p>
            </td>
          </tr>

          <tr>
            <td style="padding:0 28px 20px 28px;">
              <table role="presentation" width="100%" cellpadding="0" cellspacing="0"
                     style="width:100%;border-collapse:separate;border-spacing:0 10px;">
                <% function Row(label, value) { %>
                  <% if (value) { %>
                    <tr>
                      <td class="muted" style="width:160px;font-family:Arial,Helvetica,sans-serif;font-size:13px;color:#a8b3cf;padding:0;vertical-align:top;">
                        <%= label %>
                      </td>
                      <td class="text" style="font-family:Arial,Helvetica,sans-serif;font-size:14px;color:#eaf0ff;padding:0;">
                        <%= value %>
                      </td>
                    </tr>
                  <% } %>
                <% } %>

                <%~ Row('Full name', full_name) %>
                <%~ Row('Email', email) %>
                <%~ Row('Phone', phone_number) %>
                <%~ Row('Topic', topic) %>
                <% if (message) { %>
                  <tr>
                    <td class="muted" style="width:160px;font-family:Arial,Helvetica,sans-serif;font-size:13px;color:#a8b3cf;vertical-align:top;padding-top:0;">
                      Message
                    </td>
                    <td class="text" style="font-family:Arial,Helvetica,sans-serif;font-size:14px;color:#eaf0ff;white-space:pre-wrap;">
                      <%= message %>
                    </td>
                  </tr>
                <% } %>
              </table>
            </td>
          </tr>

          <tr>
            <td style="padding:8px 28px 28px 28px;">
              <table role="presentation" width="100%" cellpadding="0" cellspacing="0">
                <tr>
                  <td style="font-family:Arial,Helvetica,sans-serif;font-size:12px;color:#a8b3cf;">
                    Received at <%= new Date().toLocaleString('en-GB', { hour12:false }) %>
                  </td>
                  <td align="right">
                    <a href="mailto:<%= email || '' %>" style="display:inline-block;text-decoration:none;
                      font-family:Arial,Helvetica,sans-serif;font-size:13px;font-weight:bold;
                      padding:10px 14px;border-radius:10px;color:#081120;
                      background:linear-gradient(90deg,#6ee7ff,#7c4dff);">
                      Reply to <%= (full_name || 'sender') %>
                    </a>
                  </td>
                </tr>
              </table>
            </td>
          </tr>

        </table>
        <div style="height:24px;"></div>
      </td>
    </tr>
  </table>
</body>
</html>
